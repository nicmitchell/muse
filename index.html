<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" ng-app="muse"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Muse</title>
  <link rel="stylesheet" href="app/css/style.css">
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/foundation/5.4.7/css/foundation.css">
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-mocks/angular-mocks.js"></script>
  <script src="bower_components/ui-router/release/angular-ui-router.js"></script>
  <script src="bower_components/angular-echonest/src/angular-echonest.js"></script>
  <script src="app/javascript/services/services.js"></script>
  <script src="app/app.js"></script>
  </head>
  <body>
    <div class="row">
      <div class="column small-12">
      <h1>Muse</h1>
       <!--  <div ui-view>
        </div> -->
        <div ng-controller="QueryController">
          <div ng-controller="YoutubeController">
          <form class="column small-6" name="queryForm" ng-submit='search(artist, title)'>
            <h3>Artist</h3>
            <input type='text' name="artist" ng-model='artist' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">
            <h3>Title</h3>
            <input type='text' name="title" ng-model='title' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">
            <button ng-click='youtubeSearch(artist, title)'>Search</button>
            <h3>Searching for {{artist}} {{title}}</h3>
            <h4>{{initial.artist_name}}</h4>
            <h4>{{initial.title}}</h4>
            <h4>{{initial.audio_summary}}</h4>
          </form>

     <!--      <div class="column small-6">
            <iframe id="ytplayer" type="text/html" width="640" height="390" src="http://www.youtube.com/embed/"+ {{vidId}} + "?autoplay=1&origin=http://example.com" frameborder="0"/>
          </div> -->

        </div>

        <hr />
        <div ng-controller="PlaylistController" class="row">
          <div class="column small-6">
            <h3>Playlist Settings</h3>
            <hr />
            <form name="playlistForm" ng-submit='search(artist, danceability, energy)'>
    <!--           <h3>** HIDDEN ** Artist</h3>
              <input type='text' name="artist" ng-model='artist' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}"> -->
              <h5>Danceability</h5>
              <input type='range' name="danceability" min='0' max='1' step='0.1' value="initialdanceability" ng-model='danceability' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">{{danceability}}
              <h5>Energy</h5>
              <input type='range' name="energy" min='0' max='1.0' step='0.1' value="0.9" ng-model='energy' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">{{energy}}
              <h5>Instrumentalness</h5>
              <input type='range' name="instrumentalness" min='0' max='1' step='0.1' value="initialinstrumentalness" ng-model='instrumentalness' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">{{instrumentalness}}
              <h5>Speachiness</h5>
              <input type='range' name="speachiness" min='0' max='1' step='0.1' value="initialspeachiness" ng-model='speachiness' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">{{speachiness}}
              <h5>Liveness</h5>
              <input type='range' name="liveness" min='0' max='1.0' step='0.1' value="intitiallivenes" ng-model='liveness' ng-class="{'error': queryForm.$invalid && queryForm.$dirty}">{{liveness}}
              <button style="clear:both; display:block; margin-top: 2rem;">Update Playlist</button>
            </form>
          </div>
          <div class="column small-6">
            <h3>Playlist</h3>
            <hr />
            <div ng-repeat="song in playlist.playlist.response.songs" class="row">
              <div class="column small-6">
                <div>Artist: {{song.artist_name}}</div>
                <div>Song: {{song.title}}</div>
                <hr />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  </html>
